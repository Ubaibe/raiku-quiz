import base64
import json
import os

encoded_question_data = [{'question': 'UmFpa3UgaXMgYnVpbGRpbmcgaW5mcmFzdHJ1Y3R1cmUgdG8gZW5oYW5jZSB0aGUgU29sYW5hIGJsb2NrY2hhaW4u', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UgaXMgYSBjb29yZGluYXRpb24gbGF5ZXIgdGhhdCBlbmhhbmNlcyBTb2xhbmHigJlzIGNvcmUgYnkgZW5hYmxpbmcgc2VhbWxlc3MgY29sbGFib3JhdGlvbiBiZXR3ZWVuIGFwcGxpY2F0aW9ucywgb3BlcmF0b3JzLCBhbmQgdGhlIEwxLCB1bmxvY2tpbmcgaGlnaGVyIHBlcmZvcm1hbmNlIGFuZCByZWxpYWJpbGl0eS4='}, {'question': 'UmFpa3Ugd2FzIGZvdW5kZWQgaW4gMjAyNC4=', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UncyBYIGFjY291bnQgam9pbmVkIGluIE1heSAyMDI0LCBhbGlnbmluZyB3aXRoIGl0cyByZWNlbnQgZm91bmRpbmcgYW5kIGRldmVsb3BtZW50IHRpbWVsaW5lLg=='}, {'question': 'UmFpa3UncyBwcmltYXJ5IGZvY3VzIGlzIG9uIEV0aGVyZXVtIHJhdGhlciB0aGFuIFNvbGFuYS4=', 'correct_answer': 'RmFsc2U=', 'explanation': 'UmFpa3UgaXMgc3BlY2lmaWNhbGx5IGRlc2lnbmVkIHRvIG1ha2UgU29sYW5hIGluZXZpdGFibGUgYnkgcHJvdmlkaW5nIGluc3RpdHV0aW9uYWwtZ3JhZGUgY2VydGFpbnR5IGFuZCBndWFyYW50ZWVkIGJsb2NrIGluY2x1c2lvbiBvbiB0aGUgU29sYW5hIG5ldHdvcmsu'}, {'question': 'UmFpa3UgcmFpc2VkICQxMy41IG1pbGxpb24gaW4gZnVuZGluZyBsZWQgYnkgUGFudGVyYSBDYXBpdGFsLg==', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UgYW5ub3VuY2VkIGEgJDEzLjVNTSByYWlzZSBsZWQgYnkgQFBhbnRlcmFDYXBpdGFsLCB3aXRoIHBhcnRpY2lwYXRpb24gZnJvbSBKdW1wLCBMaWdodHNwZWVkLCBCaWcgQnJhaW4sIGFuZCBvdGhlciBwYXJ0bmVycy4='}, {'question': 'UmFpa3UncyBYIGhhbmRsZSBpcyBAcmFpa3Vjb20u', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'VGhlIG9mZmljaWFsIFggYWNjb3VudCBmb3IgUmFpa3UgaXMgQHJhaWt1Y29tLCB3aGVyZSB0aGV5IHNoYXJlIHVwZGF0ZXMgb24gcHJvZHVjdCwgZW5naW5lZXJpbmcsIGFuZCB0aGUgZnV0dXJlIG9mIGJsb2Nrc3BhY2Uu'}, {'question': 'UmFpa3UgcHJvdmlkZXMgZ3VhcmFudGVlZCB0cmFuc2FjdGlvbiBpbmNsdXNpb24gb24gU29sYW5hLg==', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3Ugb2ZmZXJzIGluc3RpdHV0aW9uYWwtZ3JhZGUgY2VydGFpbnR5IHdpdGggZ3VhcmFudGVlZCBibG9jayBpbmNsdXNpb24gYW5kIGFkdmFuY2VkIHNjaGVkdWxpbmcgdG8gbWFrZSBldmVyeSB0cmFuc2FjdGlvbiBmYXN0LCByZWxpYWJsZSwgYW5kIHByZWRpY3RhYmxlLg=='}, {'question': 'UmFpa3UgaXMgYmFja2VkIGJ5IExpZ2h0c3BlZWQgVmVudHVyZSBQYXJ0bmVycy4=', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UncyBmdW5kaW5nIHJvdW5kIGluY2x1ZGVzIGJhY2tpbmcgZnJvbSBAbGlnaHRzcGVlZHZwLCBhbG9uZyB3aXRoIG90aGVyIHByb21pbmVudCBpbnZlc3RvcnMgbGlrZSBQYW50ZXJhIENhcGl0YWwgYW5kIEp1bXAu'}, {'question': 'UmFpa3UncyB0ZWFtIGluY2x1ZGVzIGEgbWVtYmVyIGtub3duIGFzIEBkZWdlbnJvb3Qu', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'QGRlZ2Vucm9vdCBpcyBhIGtleSBmaWd1cmUgYXQgUmFpa3UsIGZlYXR1cmVkIGluIGFubm91bmNlbWVudHMgYWJvdXQgdGhlIHJlY2VudCByYWlzZSBhbmQgZGlzY3Vzc2lvbnMgb24gdmFsaWRhdG9ycy4='}, {'question': 'UmFpa3UgaXMgY3VycmVudGx5IGluIG1haW5uZXQgZGVwbG95bWVudC4=', 'correct_answer': 'RmFsc2U=', 'explanation': 'UmFpa3UgaXMgaW4gdGVzdG5ldCB2MSwgd29ya2luZyB3aXRoIHRvcCBub2RlIG9wZXJhdG9ycyBvbiBTb2xhbmEgZm9yIHNtb290aCBvbmJvYXJkaW5nLCB3aXRoIHRlc3RuZXQgdjIgcGxhbm5lZCBmb3IgZGV2ZWxvcGVycyBzb29uLg=='}, {'question': 'UmFpa3UgYWltcyB0byBzdXBwb3J0IHVwIHRvIDYwLDAwMCB0cmFuc2FjdGlvbnMgcGVyIHNlY29uZCBvbiBTb2xhbmEu', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UgZW5oYW5jZXMgU29sYW5hJ3MgcGVyZm9ybWFuY2UsIHRhcmdldGluZyBzY2FsYWJsZSB0aHJvdWdocHV0IHdpdGggZmVhdHVyZXMgbGlrZSBNRVYgcHJvdGVjdGlvbiBhbmQgbG93LWxhdGVuY3kgZ3VhcmFudGVlcywgZW5hYmxpbmcgaGlnaCBUUFMgZm9yIG5leHQtZ2VuIGFwcHMu'}, {'question': 'UmFpa3UgaXMgYSBmb3JrIG9mIGFuIGV4aXN0aW5nIFNvbGFuYSBwcm9qZWN0Lg==', 'correct_answer': 'RmFsc2U=', 'explanation': 'UmFpa3UgaXMgYnVpbHQgZnJvbSB0aGUgZ3JvdW5kIHVwLCBub3QgYSBmb3JrLCBmb2N1c2luZyBvbiBkZWNvdXBsaW5nIHRoZSBibG9jay1idWlsZGluZyBwcm9jZXNzIGZvciBzcGVjaWFsaXplZCBmZWF0dXJlcyBhbmQgdmFsaWRhdG9yIHJldmVudWUu'}, {'question': 'UmFpa3UgaGFzIG92ZXIgNiwwMDAgZm9sbG93ZXJzIG9uIFgu', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'QXMgb2YgU2VwdGVtYmVyIDIwMjUsIEByYWlrdWNvbSBoYXMgNiw0NzEgZm9sbG93ZXJzIG9uIFgsIHJlZmxlY3RpbmcgZ3Jvd2luZyBpbnRlcmVzdCBpbiBpdHMgU29sYW5hIGluZnJhc3RydWN0dXJlIGlubm92YXRpb25zLg=='}, {'question': 'UmFpa3UncyBtaXNzaW9uIGluY2x1ZGVzIG1ha2luZyBTb2xhbmEgJ2luZXZpdGFibGUnLg==', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UncyB0YWdsaW5lIGFuZCBhbm5vdW5jZW1lbnRzIGVtcGhhc2l6ZSBtYWtpbmcgQHNvbGFuYSBpbmV2aXRhYmxlIHRocm91Z2ggcmVsaWFibGUgdHJhbnNhY3Rpb24gcHJvY2Vzc2luZyBhbmQgaW5zdGl0dXRpb25hbC1ncmFkZSB0b29scy4='}, {'question': 'UmFpa3UgaXMgaGlyaW5nIGZvciBSdXN0IGVuZ2luZWVyaW5nIHBvc2l0aW9ucy4=', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UgaXMgYWN0aXZlbHkgaGlyaW5nIGZvciByb2xlcyBsaWtlIExlYWQgUnVzdCBFbmdpbmVlciAoQ29yZSkgYW5kIFNlbmlvciBSdXN0IEVuZ2luZWVyLCBmb2N1c2luZyBvbiBoaWdoLXBlcmZvcm1hbmNlIGRpc3RyaWJ1dGVkIHN5c3RlbXMu'}, {'question': 'UmFpa3UgaXMgYmFzZWQgaW4gYSBzaW5nbGUgcGh5c2ljYWwgbG9jYXRpb24u', 'correct_answer': 'RmFsc2U=', 'explanation': 'UmFpa3Ugb3BlcmF0ZXMgcmVtb3RlbHksIHdpdGggRXVyb3BlLWZyaWVuZGx5IHRpbWUgem9uZXMgcHJlZmVycmVkLCBhbmQgYSBnbG9iYWwgdGVhbSBidWlsZGluZyBTb2xhbmEgaW5mcmFzdHJ1Y3R1cmUu'}, {'question': 'UmFpa3Ugb2ZmZXJzIGEgdmFsaWRhdG9yIHRvb2xraXQgZm9yIHRlc3RuZXQu', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UgaGFzIHJlbGVhc2VkIGEgdmFsaWRhdG9yIHRvb2xraXQgZm9yIHRlc3RuZXQgdjEsIGVuc3VyaW5nIHNtb290aCBvbmJvYXJkaW5nIGZvciBub2RlIG9wZXJhdG9ycyBvbiBTb2xhbmEu'}, {'question': 'UmFpa3UgaXMgYmFja2VkIGJ5IEp1bXAgQ3J5cHRvLg==', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'SnVtcCBpcyBvbmUgb2YgdGhlIHZpc2lvbmFyeSBwYXJ0bmVycyBpbiBSYWlrdSdzICQxMy41TU0gZnVuZGluZyByb3VuZCwgc3VwcG9ydGluZyBpdHMgU29sYW5hIGVuaGFuY2VtZW50cy4='}, {'question': 'UmFpa3UncyBmdW5kaW5nIHJvdW5kIHdhcyB1bmRlciAkMTAgbWlsbGlvbi4=', 'correct_answer': 'RmFsc2U=', 'explanation': 'UmFpa3UgcmFpc2VkICQxMy41IG1pbGxpb24sIGEgc2lnbmlmaWNhbnQgcm91bmQgdG8gZnVlbCBkZXZlbG9wbWVudCBvZiBndWFyYW50ZWVkIGluY2x1c2lvbiBhbmQgc2NoZWR1bGluZyBmZWF0dXJlcy4='}, {'question': 'UmFpa3UgaG9zdHMgZXZlbnRzIGxpa2UgWCBTcGFjZXMgZm9yIGNvbW11bml0eSBlbmdhZ2VtZW50Lg==', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UgaG9zdHMgWCBTcGFjZXMsIHN1Y2ggYXMgdGhlIG9uZSBvbiBTZXB0ZW1iZXIgMjQsIDIwMjUsIGRpc2N1c3NpbmcgdGhlIHJhaXNlIGFuZCB2YWxpZGF0b3IgaW1wbGljYXRpb25zIHdpdGggQGRlZ2Vucm9vdC4='}, {'question': 'UmFpa3UgZm9jdXNlcyBvbiBNRVYgcHJvdGVjdGlvbiBmb3IgU29sYW5hIHRyYW5zYWN0aW9ucy4=', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UgYWRkcmVzc2VzIHJlYWwgcHJvYmxlbXMgbGlrZSBNRVYgcHJvdGVjdGlvbiwgbG93IGxhdGVuY3ksIGFuZCBzbG90IGxvY2tpbmcgdG8gZW5oYW5jZSBTb2xhbmEncyByZWxpYWJpbGl0eS4='}, {'question': 'UmFpa3UncyBEaXNjb3JkIHNlcnZlciBoYXMgZmV3ZXIgdGhhbiAxLDAwMCBtZW1iZXJzLg==', 'correct_answer': 'RmFsc2U=', 'explanation': 'UmFpa3UncyBvZmZpY2lhbCBEaXNjb3JkIGhhcyAxLDU4NyBtZW1iZXJzLCB1c2VkIGZvciB0b3duaGFsbHMgYW5kIGNvbW11bml0eSBkaXNjdXNzaW9ucy4='}, {'question': 'UmFpa3UgaXMgaGlyaW5nIGZvciBhIFNvbGFuYSBFY29zeXN0ZW0gR3Jvd3RoIExlYWQu', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UgaXMgc2Vla2luZyBhIFNvbGFuYSBFY29zeXN0ZW0gR3Jvd3RoIExlYWQgdG8gZHJpdmUgYWRvcHRpb24gYW5kIHBhcnRuZXJzaGlwcyB3aXRoaW4gdGhlIFNvbGFuYSBjb21tdW5pdHku'}, {'question': 'UmFpa3Ugd2FzIHByZXZpb3VzbHkga25vd24gYXMgU29sZm9yZ2Uu', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'RWFybHkgcGl0Y2hlcyByZWZlcmVuY2VkICdTb2xmb3JnZSBkYXlzLCcgaW5kaWNhdGluZyBSYWlrdSdzIGV2b2x1dGlvbiBmcm9tIGluaXRpYWwgY29uY2VwdHMgbGlrZSBTb2xmb3JnZS4='}, {'question': 'UmFpa3UgcHJvdmlkZXMgcHJlY29uZmlybWF0aW9ucyB1bmRlciA1MG1zLg==', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UgZW5hYmxlcyBhdG9taWMgTDE8PkwyIHRyYW5zYWN0aW9ucyB3aXRoIGluY2x1c2lvbiBndWFyYW50ZWVzIGFuZCA8NTBtcyBwcmVjb25maXJtYXRpb25zIHZpYSBpdHMgdmFsaWRhdG9yIHNpZGVjYXIu'}, {'question': 'UmFpa3UncyBjb21wZW5zYXRpb24gaW5jbHVkZXMgdG9rZW4gYWxsb2NhdGlvbi4=', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'RW5naW5lZXJpbmcgcm9sZXMgYXQgUmFpa3Ugb2ZmZXIgY29tcGV0aXRpdmUgc2FsYXJ5IHBsdXMgdG9rZW4gYWxsb2NhdGlvbiwgYWxpZ25pbmcgaW5jZW50aXZlcyB3aXRoIHByb2plY3Qgc3VjY2Vzcy4='}, {'question': 'UmFpa3UgaXMgdW5yZWxhdGVkIHRvIGJsb2NrY2hhaW4gdGVjaG5vbG9neS4=', 'correct_answer': 'RmFsc2U=', 'explanation': 'UmFpa3UgaXMgZGVlcGx5IGVtYmVkZGVkIGluIGJsb2NrY2hhaW4sIHNwZWNpZmljYWxseSBhcyBhIFNvbGFuYSBjb29yZGluYXRpb24gbGF5ZXIgZm9yIGJsb2Nrc3BhY2UgaW5ub3ZhdGlvbi4='}, {'question': 'UmFpa3UgYW5ub3VuY2VkIGl0cyBmdW5kaW5nIHJhaXNlIG9uIFNlcHRlbWJlciAyMywgMjAyNS4=', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'VGhlICQxMy41TU0gcmFpc2Ugd2FzIHB1YmxpY2x5IGFubm91bmNlZCB2aWEgWCBvbiBTZXB0ZW1iZXIgMjMsIDIwMjUsIGdlbmVyYXRpbmcgc2lnbmlmaWNhbnQgZW5nYWdlbWVudC4='}, {'question': 'UmFpa3UgaXMgYmFja2VkIGJ5IEJpZyBCcmFpbiBWQy4=', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'QEJpZ0JyYWluVkMgaXMgYSBrZXkgYmFja2VyIGluIFJhaWt1J3MgZnVuZGluZywgc3VwcG9ydGluZyBpdHMgdmlzaW9uIGZvciBTb2xhbmEncyBmdXR1cmUu'}, {'question': 'UmFpa3UncyB3ZWJzaXRlIGlzIGxlZ2FjeS5yYWlrdS5jb20u', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UgZGlyZWN0cyB1c2VycyB0byBodHRwczovL2xlZ2FjeS5yYWlrdS5jb20vIGZvciBjdXJyZW50IGluZm9ybWF0aW9uIGFuZCBhZHZhbmNlIG5vdGljZSBvbiBmZWF0dXJlcy4='}, {'question': 'UmFpa3UgaGFzIHBhcnRuZXJzaGlwcyB3aXRoIG5vbi1Tb2xhbmEgY2hhaW5zLg==', 'correct_answer': 'RmFsc2U=', 'explanation': 'UmFpa3UgaXMgZXhjbHVzaXZlbHkgZm9jdXNlZCBvbiBlbmhhbmNpbmcgU29sYW5hLCB3aXRoIG5vIG1lbnRpb25zIG9mIG90aGVyIGJsb2NrY2hhaW4gaW50ZWdyYXRpb25zLg=='}, {'question': 'UmFpa3UncyByYWlzZSBpbmNsdWRlcyBwYXJ0aWNpcGF0aW9uIGZyb20gR2F0ZSBWZW50dXJlcy4=', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'R2F0ZSBWZW50dXJlcyBwdWJsaWNseSBzdXBwb3J0ZWQgUmFpa3UncyAkMTMuNU0gZnVuZGluZyByb3VuZCwgZXhjaXRlZCBhYm91dCBpdHMgaW1wYWN0IG9uIFNvbGFuYS4='}, {'question': 'UmFpa3UgaXMgcGxhbm5pbmcgYSBkZXZlbG9wZXIncyBwcm9ncmFtIGxhdW5jaC4=', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UncyBkZXZlbG9wZXIgdG9vbGtpdCBhbmQgcHJvZ3JhbSBhcmUgc2V0IHRvIGxhdW5jaCBzaG9ydGx5IGFmdGVyIHRlc3RuZXQgdjEsIG9wZW4gdG8gb24tY2hhaW4gYnVpbGRlcnMu'}, {'question': 'UmFpa3UncyB0ZWFtIGlzIGxlZCBieSBSb2JpbiBOb3JkbmVzLg==', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'Um9iaW4gTm9yZG5lcyAoQGRlZ2Vucm9vdD8pIGlzIHJlZmVyZW5jZWQgaW4gZWFybHkgcGl0Y2hlcyBhbmQgaGlyaW5nIHBvc3RzLCBjZW50cmFsIHRvIFJhaWt1J3MgdmlzaW9uLg=='}, {'question': 'UmFpa3UgdXNlcyBhIG1vbm9saXRoaWMgYXJjaGl0ZWN0dXJlLg==', 'correct_answer': 'RmFsc2U=', 'explanation': 'UmFpa3UgZGVjb3VwbGVzIHRoZSBibG9jay1idWlsZGluZyBwcm9jZXNzLCBwcm9tb3RpbmcgbW9kdWxhciwgc3BlY2lhbGl6ZWQgZmVhdHVyZXMgZm9yIHZhbGlkYXRvcnMgYW5kIGFwcHMu'}, {'question': 'UmFpa3UgaGFzIG92ZXIgMjAwIHJlcG9zdHMgb24gaXRzIGZ1bmRpbmcgYW5ub3VuY2VtZW50Lg==', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'VGhlIGZ1bmRpbmcgcG9zdCBnYXJuZXJlZCAyMDAgcmVwb3N0cywgMSwxOTUgbGlrZXMsIGFuZCB3aWRlc3ByZWFkIGNvbW11bml0eSBleGNpdGVtZW50Lg=='}, {'question': 'UmFpa3UgaXMgaGlyaW5nIHJlbW90ZWx5IG9ubHkgaW4gdGhlIFVTLg==', 'correct_answer': 'RmFsc2U=', 'explanation': 'UmFpa3UgcHJlZmVycyBFdXJvcGUtZnJpZW5kbHkgdGltZSB6b25lcyBidXQgb2ZmZXJzIGZ1bGx5IHJlbW90ZSBwb3NpdGlvbnMgZ2xvYmFsbHku'}, {'question': 'UmFpa3UgYWltcyB0byBjcmVhdGUgbmV3IHJldmVudWUgb3Bwb3J0dW5pdGllcyBmb3IgdmFsaWRhdG9ycy4=', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'Qnkgc3BlY2lhbGl6aW5nIGJsb2NrLWJ1aWxkaW5nLCBSYWlrdSBlbmFibGVzIGRpZmZlcmVudGlhdGVkIGZlYXR1cmVzIGFuZCBuZXcgcmV2ZW51ZSBzdHJlYW1zIGZvciBTb2xhbmEgdmFsaWRhdG9ycy4='}, {'question': 'UmFpa3UncyBmdW5kaW5nIHdhcyBzb2xlbHkgZnJvbSBpbmRpdmlkdWFsIGludmVzdG9ycy4=', 'correct_answer': 'RmFsc2U=', 'explanation': 'VGhlIHJvdW5kIGZlYXR1cmVzIHByb21pbmVudCBWQ3MgbGlrZSBQYW50ZXJhLCBKdW1wLCBMaWdodHNwZWVkLCBhbmQgQmlnIEJyYWluLCBub3QganVzdCBpbmRpdmlkdWFscy4='}, {'question': 'UmFpa3UgaG9zdGVkIGEgdG93bmhhbGwgb24gU2VwdGVtYmVyIDIzLCAyMDI1Lg==', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UgaGVsZCBhIERpc2NvcmQgdG93bmhhbGwgYW5kIFggYnJvYWRjYXN0IG9uIFNlcHRlbWJlciAyMywgMjAyNSwgcG9zdC1mdW5kaW5nIGFubm91bmNlbWVudC4='}, {'question': 'UmFpa3UgZm9jdXNlcyBvbiBoYXJkd2FyZSBkZXZlbG9wbWVudCBmb3IgU29sYW5hLg==', 'correct_answer': 'RmFsc2U=', 'explanation': 'UmFpa3UgaXMgc29mdHdhcmUtZm9jdXNlZCwgYnVpbGRpbmcgY29vcmRpbmF0aW9uIGxheWVycyBhbmQgdG9vbGtpdHMgZm9yIFNvbGFuYSdzIHBlcmZvcm1hbmNlIGFuZCByZWxpYWJpbGl0eS4='}, {'question': 'UmFpa3UgaXMgYmFja2VkIGJ5IEZpZ21lbnQgQ2FwaXRhbC4=', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'QEZpZ21lbnRDYXBpdGFsIGlzIGxpc3RlZCBhbW9uZyBSYWlrdSdzIGJhY2tlcnMgaW4gaXRzIGJpbyBhbmQgYW5ub3VuY2VtZW50cy4='}, {'question': 'UmFpa3UncyB0ZXN0bmV0IHYyIHdpbGwgYmUgb3BlbiB0byBkZXZlbG9wZXJzLg==', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'QWZ0ZXIgdGVzdG5ldCB2MSB3aXRoIG5vZGUgb3BlcmF0b3JzLCB2MiB3aWxsIG9wZW4gZm9yIGRldmVsb3BlcnMgdG8gdGVzdCBhbmQgYnVpbGQgb24gUmFpa3Uu'}, {'question': 'UmFpa3UncyBYIFNwYWNlcyBhcmUgc2NoZWR1bGVkIGlycmVndWxhcmx5Lg==', 'correct_answer': 'RmFsc2U=', 'explanation': 'UmFpa3UgaG9zdHMgcmVndWxhciBYIFNwYWNlcywgbGlrZSB0aGUgb25lIG9uIFNlcHRlbWJlciAyNCwgMjAyNSwgYXQgMTE6MDBhbSBFU1QgZm9yIGNvbW11bml0eSB1cGRhdGVzLg=='}, {'question': 'UmFpa3UgaXMgYSBwYWNrYWdpbmcgY29tcGFueSB1bnJlbGF0ZWQgdG8gY3J5cHRvLg==', 'correct_answer': 'RmFsc2U=', 'explanation': 'V2hpbGUgdGhlcmUncyBhbm90aGVyICdSYWlrdScgaW4gY2xlYW50ZWNoIHBhY2thZ2luZywgQHJhaWt1Y29tIGlzIGRpc3RpbmN0bHkgYSBTb2xhbmEgYmxvY2tjaGFpbiBpbmZyYXN0cnVjdHVyZSBwcm9qZWN0Lg=='}, {'question': 'UmFpa3UgZW1waGFzaXplcyBhdG9taWMgTDE8PkwyIHRyYW5zYWN0aW9ucy4=', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UncyBwcmltaXRpdmVzIGVuYWJsZSBhdG9taWMgTDE8PkwyIHRyYW5zYWN0aW9ucyB3aXRoIGluY2x1c2lvbiBndWFyYW50ZWVzIHZpYSBpdHMgdmFsaWRhdG9yIHNpZGVjYXIu'}, {'question': 'UmFpa3UgaGFzIGZld2VyIHRoYW4gMTAwIHJlcGxpZXMgb24gaXRzIG1haW4gZnVuZGluZyBwb3N0Lg==', 'correct_answer': 'RmFsc2U=', 'explanation': 'VGhlIGZ1bmRpbmcgYW5ub3VuY2VtZW50IHJlY2VpdmVkIDI4NyByZXBsaWVzLCBpbmRpY2F0aW5nIHN0cm9uZyBjb21tdW5pdHkgaW50ZXJhY3Rpb24u'}, {'question': 'UmFpa3UgaXMgaGlyaW5nIGZvciBlY29zeXN0ZW0gZ3Jvd3RoIHJvbGVzLg==', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UG9zaXRpb25zIGxpa2UgU29sYW5hIEVjb3N5c3RlbSBHcm93dGggTGVhZCBhcmUgb3BlbiB0byBleHBhbmQgUmFpa3UncyBwcmVzZW5jZSBpbiB0aGUgU29sYW5hIGNvbW11bml0eS4='}, {'question': 'UmFpa3UncyBiaW8gbWVudGlvbnMgJ1dlIG1ha2UgU29sYW5hIGluZXZpdGFibGUnLg==', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UncyBYIGJpbyBzdGF0ZXM6ICdXZSBtYWtlIFNvbGFuYSBpbmV2aXRhYmxlLiBJbnN0aXR1dGlvbi1ncmFkZSBjZXJ0YWludHkgd2l0aCBndWFyYW50ZWVkIGJsb2NrIGluY2x1c2lvbi4n'}, {'question': 'UmFpa3UgaXMgbm90IGJhY2tlZCBieSBQYW50ZXJhIENhcGl0YWwu', 'correct_answer': 'RmFsc2U=', 'explanation': 'UGFudGVyYSBDYXBpdGFsIGxlZCBSYWlrdSdzICQxMy41TU0gcmFpc2UsIGEgY29ybmVyc3RvbmUgb2YgaXRzIGZ1bmRpbmcu'}, {'question': 'UmFpa3UgcGxhbnMgdG8gbGF1bmNoIGEgbWVtcG9vbCBzdWJzY3JpcHRpb24gc2VydmljZS4=', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UgaXMgZXhwbG9yaW5nIGRldmVsb3BlciB0b29scyBsaWtlIG1lbXBvb2wgc3Vic2NyaXB0aW9ucyBhcyBwYXJ0IG9mIGl0cyB1cGNvbWluZyBwcm9ncmFtLg=='}, {'question': 'UmFpa3UncyBEaXNjb3JkIGludml0ZSBpcyB0WWpoMkZaay4=', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UncyBvZmZpY2lhbCBEaXNjb3JkIGludml0ZSBpcyBodHRwczovL2Rpc2NvcmQuY29tL2ludml0ZS90WWpoMkZaaywgdXNlZCBmb3IgZXZlbnRzIGxpa2UgdG93bmhhbGxzLg=='}, {'question': 'UmFpa3UgZm9jdXNlcyBvbiBjZW50cmFsaXplZCB0cmFuc2FjdGlvbiBwcm9jZXNzaW5nLg==', 'correct_answer': 'RmFsc2U=', 'explanation': 'UmFpa3UgZW5oYW5jZXMgU29sYW5hJ3MgZGVjZW50cmFsaXplZCBuYXR1cmUgd2l0aCBjb29yZGluYXRpb24gbGF5ZXJzIGZvciBiZXR0ZXIgY29sbGFib3JhdGlvbiBhbmQgc2NhbGFiaWxpdHku'}, {'question': 'UmFpa3UgYW5ub3VuY2VkIGEgaGlyaW5nIHB1c2ggYWZ0ZXIgaXRzIGZ1bmRpbmcu', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UG9zdC1yYWlzZSwgUmFpa3UgcmFtcGVkIHVwIGhpcmluZyBmb3IgZW5naW5lZXJpbmcgYW5kIGdyb3d0aCByb2xlcyB0byBhY2NlbGVyYXRlIGRldmVsb3BtZW50Lg=='}, {'question': 'UmFpa3UgaXMgaW5zcGlyZWQgYnkgUG9rw6ltb24ncyBSYWlrb3Uu', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UncyBkcmFnb24gZW1vamkgKPCfkIkpIGFuZCBuYW1lIG1heSBub2QgdG8gbXl0aGljYWwgdGhlbWVzLCBzaW1pbGFyIHRvIFBva8OpbW9uJ3MgbGlnaHRuaW5nLWZhc3QgUmFpa291LCBzeW1ib2xpemluZyBzcGVlZCBvbiBTb2xhbmEu'}, {'question': 'UmFpa3UncyBmdW5kaW5nIGluY2x1ZGVzIG92ZXIgMTAgaW52ZXN0b3JzLg==', 'correct_answer': 'RmFsc2U=', 'explanation': 'VGhlIGFubm91bmNlZCBwYXJ0bmVycyBhcmUgUGFudGVyYSwgSnVtcCwgTGlnaHRzcGVlZCwgQmlnIEJyYWluLCBGaWdtZW50LCBhbmQgYSBmZXcgbW9yZSwgdG90YWxpbmcgYXJvdW5kIDYtOC4='}, {'question': 'UmFpa3UgaXMgYnVpbGRpbmcgZm9yIG5leHQtZ2VuIFNvbGFuYSBhcHBzLg==', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3Ugc2NhbGVzIFNvbGFuYSBmb3IgbmV4dC1nZW5lcmF0aW9uIGFwcGxpY2F0aW9ucyB3aXRoIHByZWRpY3RhYmxlIGJsb2Nrc3BhY2UgYW5kIGhpZ2ggdGhyb3VnaHB1dC4='}, {'question': 'UmFpa3UgaGFzIG5vIHByZXNlbmNlIG9uIExpbmtlZEluLg==', 'correct_answer': 'RmFsc2U=', 'explanation': 'UmFpa3UgbWFpbnRhaW5zIGEgTGlua2VkSW4gY29tcGFueSBwYWdlIChsaW5rZWRpbi5jb20vY29tcGFueS9yYWlrdWNvbSkgZm9yIHByb2Zlc3Npb25hbCBuZXR3b3JraW5nIGFuZCBqb2IgcG9zdGluZ3Mu'}, {'question': 'UmFpa3UncyB0ZXN0bmV0IGZvY3VzZXMgb24gdmFsaWRhdG9yIG9uYm9hcmRpbmcu', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'VGVzdG5ldCB2MSBwcmlvcml0aXplcyBzbW9vdGggb25ib2FyZGluZyBmb3IgdG9wIFNvbGFuYSBub2RlIG9wZXJhdG9ycywgZW5zdXJpbmcgYnJvYWQgc29mdHdhcmUgY292ZXJhZ2Uu'}, {'question': 'UmFpa3UgaXMgYSBjbG9zZWQtc291cmNlIHByb2plY3Qu', 'correct_answer': 'RmFsc2U=', 'explanation': 'QXMgYSBTb2xhbmEgaW5mcmFzdHJ1Y3R1cmUgbGF5ZXIsIFJhaWt1IHByb21vdGVzIG9wZW4gY29sbGFib3JhdGlvbiwgd2l0aCB0b29sa2l0cyBhbmQgZmVhdHVyZXMgZGVzaWduZWQgZm9yIGNvbW11bml0eSBidWlsZGVycy4='}, {'question': 'UmFpa3UncyBhbm5vdW5jZW1lbnQgdmlkZW8gaXMgdW5kZXIgMSBtaW51dGUgbG9uZy4=', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'VGhlIGZ1bmRpbmcgYW5ub3VuY2VtZW50IHZpZGVvIGlzIDQ4LjUgc2Vjb25kcywgaGlnaGxpZ2h0aW5nIGtleSBmZWF0dXJlcyBjb25jaXNlbHku'}, {'question': 'UmFpa3UgaXMgdW5yZWxhdGVkIHRvIEppdG8u', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'V2hpbGUgc2ltaWxhciBpbiBNRVYgYW5kIGluY2x1c2lvbiBnb2FscywgUmFpa3UgaXMgYnVpbHQgaW5kZXBlbmRlbnRseSwgbm90IGFzIGEgSml0byBwbHVnaW4u'}, {'question': 'UmFpa3UgaGFzIGEgZGVkaWNhdGVkIFggU3BhY2VzIGZvciB2YWxpZGF0b3JzLg==', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'VGhlIFNlcHRlbWJlciAyNCwgMjAyNSwgWCBTcGFjZXMgZm9jdXNlZCBvbiB0aGUgcmFpc2UncyBpbXBsaWNhdGlvbnMgZm9yIFNvbGFuYSB2YWxpZGF0b3JzLg=='}, {'question': 'UmFpa3UncyBncm93dGggbGVhZCByb2xlIGlzIFVTLWJhc2VkIG9ubHku', 'correct_answer': 'RmFsc2U=', 'explanation': 'VGhlIFNvbGFuYSBFY29zeXN0ZW0gR3Jvd3RoIExlYWQgcm9sZSBpcyByZW1vdGUsIG9wZW4gdG8gZ2xvYmFsIGFwcGxpY2FudHMgcGFzc2lvbmF0ZSBhYm91dCB0aGUgZWNvc3lzdGVtLg=='}, {'question': 'UmFpa3UgZW1wb3dlcnMgYnVpbGRlcnMgd2l0aCBzbG90IGd1YXJhbnRlZXMu', 'correct_answer': 'VHJ1ZQ==', 'explanation': 'UmFpa3UgcHJvdmlkZXMgYWR2YW5jZWQgc2NoZWR1bGluZyBhbmQgc2xvdCBsb2NraW5nIGZvciBwcmVkaWN0YWJsZSwgZ3VhcmFudGVlZCBibG9jayBpbmNsdXNpb24u'}]

def get_decoded_question_data():
    """Decode question data at runtime."""
    decoded_data = []
    for item in encoded_question_data:
        decoded_item = {
            "question": base64.b64decode(item["question"]).decode(),
            "correct_answer": base64.b64decode(item["correct_answer"]).decode(),
            "explanation": base64.b64decode(item["explanation"]).decode()
        }
        decoded_data.append(decoded_item)
    return decoded_data



class Leaderboard:
    def __init__(self, filename="leaderboard.json"):
        self.filename = filename
        self.scores = self.load_scores()

    def load_scores(self):
        """Load scores from JSON file, return empty dict if file doesn't exist."""
        if os.path.exists(self.filename):
            try:
                with open(self.filename, "r") as f:
                    return json.load(f)
            except json.JSONDecodeError:
                print(f"Error reading {self.filename}. Starting with empty leaderboard.")
                return {}
        return {}

    def save_scores(self):
        """Save scores to JSON file."""
        try:
            with open(self.filename, "w") as f:
                json.dump(self.scores, f, indent=4)
        except IOError as e:
            print(f"Error saving leaderboard: {e}")

    def update_score(self, username: str, score: int):
        """Update user's highest score and cumulative score."""
        if not username:
            username = "Anonymous"
        if username in self.scores:
            # Update high score if new score is higher
            self.scores[username]["high_score"] = max(self.scores[username]["high_score"], score)
            # Add to cumulative score
            self.scores[username]["cumulative_score"] += score
        else:
            # Initialize new user with high and cumulative scores
            self.scores[username] = {"high_score": score, "cumulative_score": score}
        self.save_scores()

    def get_sorted_scores(self):
        """Return scores sorted by highest score first."""
        return sorted(
            self.scores.items(),
            key=lambda x: x[1]["high_score"],
            reverse=True
        )